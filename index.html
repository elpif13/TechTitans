
<!DOCTYPE html>
<html>
<head>
    <title>Aircraft Locations on Google Maps</title>
    <style>
        #map {
            height: 400px;
            width: 100%;
        }
    </style>
</head>
<body>
    <h1>Aircraft Locations on Google Maps</h1>
    <div id="map"></div>

    <script>
        // Initialize the map
        function initMap() {
            var map = new google.maps.Map(document.getElementById('map'), {
                zoom: 4,
                center: { lat: 39.1667, lng: 35.6667 } // Default center (Turkey)
            });

            // Fetch the aircraft data from the JSON file
            fetch('aircraft_data.json')
                .then(response => response.json())
                .then(data => {
                    // Process each aircraft data and create markers with custom icon and info window
                    data.forEach(aircraft => {
                        var icon = {
                            url: 'https://maps.google.com/mapfiles/kml/shapes/airports.png', // Publicly available plane icon
                            scaledSize: new google.maps.Size(30, 30), // Size of the icon
                            origin: new google.maps.Point(0, 0), // Position of the icon's origin (top left corner)
                            anchor: new google.maps.Point(20, 20) // Anchor point of the icon (center)
                        };

                        var marker = new google.maps.Marker({
                            position: { lat: aircraft.latitude, lng: aircraft.longitude },
                            map: map,
                            title: aircraft.callsign,
                            icon: icon // Set custom icon
                        });

                        // Create info window content
                        var contentString = `
                            <div>
                                <h2>${aircraft.callsign}</h2>
                                <p><b>Origin Country:</b> ${aircraft.origin_country}</p>
                                <p><b>Velocity:</b> ${aircraft.velocity} m/s</p>
                                <p><b>True Track:</b> ${aircraft.true_track}Â°</p>
                                <p><b>Vertical Rate:</b> ${aircraft.vertical_rate} m/s</p>
                            </div>
                        `;

                        var infoWindow = new google.maps.InfoWindow({
                            content: contentString
                        });

                        // Add click event listener to marker to open info window
                        marker.addListener('click', function () {
                            infoWindow.open(map, marker);
                        });
                    });
                })
                .catch(error => {
                    console.error('Error fetching aircraft data:', error);
                });
        }
    </script>
    <!-- Include the Google Maps API with your API key -->
    <script async defer
            src="https://maps.googleapis.com/maps/api/js?key=key">
    </script>
</body>
</html>
